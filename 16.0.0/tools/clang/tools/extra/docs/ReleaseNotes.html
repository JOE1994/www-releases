
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Extra Clang Tools 16.0.0 Release Notes &#8212; Extra Clang Tools 16.0.0 documentation</title>
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/clang-tools-extra-styles.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Clang-Tidy" href="clang-tidy/index.html" />
    <link rel="prev" title="Introduction" href="index.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>Extra Clang Tools 16.0.0 documentation</span></a></h1>
        <h2 class="heading"><span>Extra Clang Tools 16.0.0 Release Notes</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="index.html">Introduction</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="clang-tidy/index.html">Clang-Tidy</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <div class="section" id="extra-clang-tools-release-releasenotestitle">
<h1>Extra Clang Tools 16.0.0 Release Notes<a class="headerlink" href="#extra-clang-tools-release-releasenotestitle" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id1">Introduction</a></p></li>
<li><p><a class="reference internal" href="#what-s-new-in-extra-clang-tools-release" id="id2">What’s New in Extra Clang Tools 16.0.0?</a></p>
<ul>
<li><p><a class="reference internal" href="#major-new-features" id="id3">Major New Features</a></p></li>
<li><p><a class="reference internal" href="#improvements-to-clangd" id="id4">Improvements to clangd</a></p>
<ul>
<li><p><a class="reference internal" href="#inlay-hints" id="id5">Inlay hints</a></p></li>
<li><p><a class="reference internal" href="#diagnostics" id="id6">Diagnostics</a></p></li>
<li><p><a class="reference internal" href="#semantic-highlighting" id="id7">Semantic Highlighting</a></p></li>
<li><p><a class="reference internal" href="#compile-flags" id="id8">Compile flags</a></p></li>
<li><p><a class="reference internal" href="#hover" id="id9">Hover</a></p></li>
<li><p><a class="reference internal" href="#code-completion" id="id10">Code completion</a></p></li>
<li><p><a class="reference internal" href="#signature-help" id="id11">Signature help</a></p></li>
<li><p><a class="reference internal" href="#cross-references" id="id12">Cross-references</a></p></li>
<li><p><a class="reference internal" href="#objective-c" id="id13">Objective-C</a></p></li>
<li><p><a class="reference internal" href="#miscellaneous" id="id14">Miscellaneous</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#improvements-to-clang-doc" id="id15">Improvements to clang-doc</a></p></li>
<li><p><a class="reference internal" href="#improvements-to-clang-query" id="id16">Improvements to clang-query</a></p></li>
<li><p><a class="reference internal" href="#improvements-to-clang-rename" id="id17">Improvements to clang-rename</a></p></li>
<li><p><a class="reference internal" href="#improvements-to-clang-tidy" id="id18">Improvements to clang-tidy</a></p>
<ul>
<li><p><a class="reference internal" href="#new-checks" id="id19">New checks</a></p></li>
<li><p><a class="reference internal" href="#new-check-aliases" id="id20">New check aliases</a></p></li>
<li><p><a class="reference internal" href="#changes-in-existing-checks" id="id21">Changes in existing checks</a></p></li>
<li><p><a class="reference internal" href="#removed-checks" id="id22">Removed checks</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#improvements-to-include-fixer" id="id23">Improvements to include-fixer</a></p></li>
<li><p><a class="reference internal" href="#improvements-to-clang-include-fixer" id="id24">Improvements to clang-include-fixer</a></p></li>
<li><p><a class="reference internal" href="#improvements-to-modularize" id="id25">Improvements to modularize</a></p></li>
<li><p><a class="reference internal" href="#improvements-to-pp-trace" id="id26">Improvements to pp-trace</a></p></li>
<li><p><a class="reference internal" href="#clang-tidy-visual-studio-plugin" id="id27">Clang-tidy Visual Studio plugin</a></p></li>
</ul>
</li>
</ul>
</div>
<p>Written by the <a class="reference external" href="https://llvm.org/">LLVM Team</a></p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This document contains the release notes for the Extra Clang Tools, part of the
Clang release 16.0.0. Here we describe the status of the Extra Clang Tools in
some detail, including major improvements from the previous release and new
feature work. All LLVM releases may be downloaded from the <a class="reference external" href="https://llvm.org/releases/">LLVM releases web
site</a>.</p>
<p>For more information about Clang or LLVM, including information about
the latest release, please see the <a class="reference external" href="https://clang.llvm.org">Clang Web Site</a> or
the <a class="reference external" href="https://llvm.org">LLVM Web Site</a>.</p>
<p>Note that if you are reading this file from a Git checkout or the
main Clang web page, this document applies to the <em>next</em> release, not
the current one. To see the release notes for a specific release, please
see the <a class="reference external" href="https://llvm.org/releases/">releases page</a>.</p>
</div>
<div class="section" id="what-s-new-in-extra-clang-tools-release">
<h2><a class="toc-backref" href="#id2">What’s New in Extra Clang Tools 16.0.0?</a><a class="headerlink" href="#what-s-new-in-extra-clang-tools-release" title="Permalink to this headline">¶</a></h2>
<p>Some of the major new features and improvements to Extra Clang Tools are listed
here. Generic improvements to Extra Clang Tools as a whole or to its underlying
infrastructure are described first, followed by tool-specific sections.</p>
<div class="section" id="major-new-features">
<h3><a class="toc-backref" href="#id3">Major New Features</a><a class="headerlink" href="#major-new-features" title="Permalink to this headline">¶</a></h3>
<p>…</p>
</div>
<div class="section" id="improvements-to-clangd">
<h3><a class="toc-backref" href="#id4">Improvements to clangd</a><a class="headerlink" href="#improvements-to-clangd" title="Permalink to this headline">¶</a></h3>
<div class="section" id="inlay-hints">
<h4><a class="toc-backref" href="#id5">Inlay hints</a><a class="headerlink" href="#inlay-hints" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="diagnostics">
<h4><a class="toc-backref" href="#id6">Diagnostics</a><a class="headerlink" href="#diagnostics" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="semantic-highlighting">
<h4><a class="toc-backref" href="#id7">Semantic Highlighting</a><a class="headerlink" href="#semantic-highlighting" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="compile-flags">
<h4><a class="toc-backref" href="#id8">Compile flags</a><a class="headerlink" href="#compile-flags" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="hover">
<h4><a class="toc-backref" href="#id9">Hover</a><a class="headerlink" href="#hover" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="code-completion">
<h4><a class="toc-backref" href="#id10">Code completion</a><a class="headerlink" href="#code-completion" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="signature-help">
<h4><a class="toc-backref" href="#id11">Signature help</a><a class="headerlink" href="#signature-help" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="cross-references">
<h4><a class="toc-backref" href="#id12">Cross-references</a><a class="headerlink" href="#cross-references" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="objective-c">
<h4><a class="toc-backref" href="#id13">Objective-C</a><a class="headerlink" href="#objective-c" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="miscellaneous">
<h4><a class="toc-backref" href="#id14">Miscellaneous</a><a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="improvements-to-clang-doc">
<h3><a class="toc-backref" href="#id15">Improvements to clang-doc</a><a class="headerlink" href="#improvements-to-clang-doc" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The default executor was changed to standalone to match other tools.</p></li>
</ul>
</div>
<div class="section" id="improvements-to-clang-query">
<h3><a class="toc-backref" href="#id16">Improvements to clang-query</a><a class="headerlink" href="#improvements-to-clang-query" title="Permalink to this headline">¶</a></h3>
<p>The improvements are…</p>
</div>
<div class="section" id="improvements-to-clang-rename">
<h3><a class="toc-backref" href="#id17">Improvements to clang-rename</a><a class="headerlink" href="#improvements-to-clang-rename" title="Permalink to this headline">¶</a></h3>
<p>The improvements are…</p>
</div>
<div class="section" id="improvements-to-clang-tidy">
<h3><a class="toc-backref" href="#id18">Improvements to clang-tidy</a><a class="headerlink" href="#improvements-to-clang-tidy" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Change to Python 3 in the shebang of <cite>add_new_check.py</cite> and <cite>rename_check.py</cite>,
as the existing code is not compatible with Python 2.</p></li>
<li><p>Fix a minor bug in <cite>add_new_check.py</cite> to only traverse subdirectories
when updating the list of checks in the documentation.</p></li>
<li><p>Deprecate the global configuration file option <cite>AnalyzeTemporaryDtors</cite>,
which is no longer in use. The option will be fully removed in
<strong class="program">clang-tidy</strong> version 18.</p></li>
</ul>
<div class="section" id="new-checks">
<h4><a class="toc-backref" href="#id19">New checks</a><a class="headerlink" href="#new-checks" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p>New <a class="reference internal" href="clang-tidy/checks/bugprone/suspicious-realloc-usage.html"><span class="doc">bugprone-suspicious-realloc-usage</span></a> check.</p>
<p>Finds usages of <code class="docutils literal notranslate"><span class="pre">realloc</span></code> where the return value is assigned to the
same expression as passed to the first argument.</p>
</li>
<li><p>New <a class="reference internal" href="clang-tidy/checks/cppcoreguidelines/avoid-const-or-ref-data-members.html"><span class="doc">cppcoreguidelines-avoid-const-or-ref-data-members</span></a> check.</p>
<p>Warns when a struct or class uses const or reference (lvalue or rvalue) data members.</p>
</li>
<li><p>New <a class="reference internal" href="clang-tidy/checks/cppcoreguidelines/avoid-do-while.html"><span class="doc">cppcoreguidelines-avoid-do-while</span></a> check.</p>
<p>Warns when using <code class="docutils literal notranslate"><span class="pre">do-while</span></code> loops.</p>
</li>
<li><p>New <a class="reference internal" href="clang-tidy/checks/cppcoreguidelines/avoid-reference-coroutine-parameters.html"><span class="doc">cppcoreguidelines-avoid-reference-coroutine-parameters</span></a> check.</p>
<p>Warns on coroutines that accept reference parameters.</p>
</li>
<li><p>New <a class="reference internal" href="clang-tidy/checks/misc/use-anonymous-namespace.html"><span class="doc">misc-use-anonymous-namespace</span></a> check.</p>
<p>Warns when using <code class="docutils literal notranslate"><span class="pre">static</span></code> function or variables at global scope, and suggests
moving them into an anonymous namespace.</p>
</li>
<li><p>New <a class="reference internal" href="clang-tidy/checks/bugprone/standalone-empty.html"><span class="doc">bugprone-standalone-empty</span></a> check.</p>
<p>Warns when <cite>empty()</cite> is used on a range and the result is ignored. Suggests <cite>clear()</cite>
if it is an existing member function.</p>
</li>
</ul>
</div>
<div class="section" id="new-check-aliases">
<h4><a class="toc-backref" href="#id20">New check aliases</a><a class="headerlink" href="#new-check-aliases" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>New alias <a class="reference internal" href="clang-tidy/checks/cert/msc54-cpp.html"><span class="doc">cert-msc54-cpp</span></a> to
<a class="reference internal" href="clang-tidy/checks/bugprone/signal-handler.html"><span class="doc">bugprone-signal-handler</span></a> was added.</p></li>
</ul>
</div>
<div class="section" id="changes-in-existing-checks">
<h4><a class="toc-backref" href="#id21">Changes in existing checks</a><a class="headerlink" href="#changes-in-existing-checks" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p>Fixed a false positive in <a class="reference internal" href="clang-tidy/checks/bugprone/assignment-in-if-condition.html"><span class="doc">bugprone-assignment-in-if-condition</span></a> check when there
was an assignement in a lambda found in the condition of an <code class="docutils literal notranslate"><span class="pre">if</span></code>.</p></li>
<li><p>Improved <a class="reference internal" href="clang-tidy/checks/bugprone/signal-handler.html"><span class="doc">bugprone-signal-handler</span></a> check. Partial
support for C++14 signal handler rules was added. Bug report generation was
improved.</p></li>
<li><p>Fixed a false positive in <a class="reference internal" href="clang-tidy/checks/cppcoreguidelines/pro-type-member-init.html"><span class="doc">cppcoreguidelines-pro-type-member-init</span></a> when warnings
would be emitted for uninitialized members of an anonymous union despite
there being an initializer for one of the other members.</p></li>
<li><p>Fixed false positives in <a class="reference internal" href="clang-tidy/checks/google/objc-avoid-throwing-exception.html"><span class="doc">google-objc-avoid-throwing-exception</span></a> check for exceptions
thrown by code emitted from macros in system headers.</p></li>
<li><p>Improved <a class="reference internal" href="clang-tidy/checks/misc/redundant-expression.html"><span class="doc">misc-redundant-expression</span></a>
check.</p>
<p>The check now skips concept definitions since redundant expressions still make sense
inside them.</p>
</li>
<li><p>Improved <a class="reference internal" href="clang-tidy/checks/modernize/loop-convert.html"><span class="doc">modernize-loop-convert</span></a>
to check for container functions <code class="docutils literal notranslate"><span class="pre">begin</span></code>/<code class="docutils literal notranslate"><span class="pre">end</span></code> etc on base classes of the container
type, instead of only as direct members of the container type itself.</p></li>
<li><p>Improved <a class="reference internal" href="clang-tidy/checks/modernize/use-emplace.html"><span class="doc">modernize-use-emplace</span></a>
check.</p>
<p>The check now supports detecting inefficient invocations of <code class="docutils literal notranslate"><span class="pre">push</span></code> and
<code class="docutils literal notranslate"><span class="pre">push_front</span></code> on STL-style containers and replacing them with <code class="docutils literal notranslate"><span class="pre">emplace</span></code>
or <code class="docutils literal notranslate"><span class="pre">emplace_front</span></code>.</p>
<p>The check now supports detecting alias cases of <code class="docutils literal notranslate"><span class="pre">push_back</span></code> <code class="docutils literal notranslate"><span class="pre">push</span></code> and
<code class="docutils literal notranslate"><span class="pre">push_front</span></code> on STL-style containers and replacing them with <code class="docutils literal notranslate"><span class="pre">emplace_back</span></code>,
<code class="docutils literal notranslate"><span class="pre">emplace</span></code> or <code class="docutils literal notranslate"><span class="pre">emplace_front</span></code>.</p>
</li>
<li><p>Improved <a class="reference internal" href="clang-tidy/checks/modernize/use-equals-default.html"><span class="doc">modernize-use-equals-default</span></a>
check.</p>
<p>The check now skips unions/union-like classes since in this case a default constructor
with empty body is not equivalent to the explicitly defaulted one, variadic constructors
since they cannot be explicitly defaulted. The check also skips copy assignment operators
with nonstandard return types, template constructors, private/protected default constructors
for C++17 or earlier. The automatic fixit has been adjusted to avoid adding superfluous
semicolon. The check is restricted to C++11 or later.</p>
</li>
<li><p>Change the default behavior of <a class="reference internal" href="clang-tidy/checks/readability/avoid-const-params-in-decls.html"><span class="doc">readability-avoid-const-params-in-decls</span></a> to not
warn about <cite>const</cite> value parameters of declarations inside macros.</p></li>
<li><p>Fixed crashes in <a class="reference internal" href="clang-tidy/checks/readability/braces-around-statements.html"><span class="doc">readability-braces-around-statements</span></a> and
<a class="reference internal" href="clang-tidy/checks/readability/simplify-boolean-expr.html"><span class="doc">readability-simplify-boolean-expr</span></a>
when using a C++23 <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">consteval</span></code> statement.</p></li>
<li><p>Change the behavior of <a class="reference internal" href="clang-tidy/checks/readability/const-return-type.html"><span class="doc">readability-const-return-type</span></a> to not
warn about <cite>const</cite> return types in overridden functions since the derived
class cannot always choose to change the function signature.</p></li>
<li><p>Change the default behavior of <a class="reference internal" href="clang-tidy/checks/readability/const-return-type.html"><span class="doc">readability-const-return-type</span></a> to not
warn about <cite>const</cite> value parameters of declarations inside macros.</p></li>
<li><p>Support removing <code class="docutils literal notranslate"><span class="pre">c_str</span></code> calls from <code class="docutils literal notranslate"><span class="pre">std::string_view</span></code> constructor calls in
<a class="reference internal" href="clang-tidy/checks/readability/redundant-string-cstr.html"><span class="doc">readability-redundant-string-cstr</span></a>
check.</p></li>
</ul>
</div>
<div class="section" id="removed-checks">
<h4><a class="toc-backref" href="#id22">Removed checks</a><a class="headerlink" href="#removed-checks" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="improvements-to-include-fixer">
<h3><a class="toc-backref" href="#id23">Improvements to include-fixer</a><a class="headerlink" href="#improvements-to-include-fixer" title="Permalink to this headline">¶</a></h3>
<p>The improvements are…</p>
</div>
<div class="section" id="improvements-to-clang-include-fixer">
<h3><a class="toc-backref" href="#id24">Improvements to clang-include-fixer</a><a class="headerlink" href="#improvements-to-clang-include-fixer" title="Permalink to this headline">¶</a></h3>
<p>The improvements are…</p>
</div>
<div class="section" id="improvements-to-modularize">
<h3><a class="toc-backref" href="#id25">Improvements to modularize</a><a class="headerlink" href="#improvements-to-modularize" title="Permalink to this headline">¶</a></h3>
<p>The improvements are…</p>
</div>
<div class="section" id="improvements-to-pp-trace">
<h3><a class="toc-backref" href="#id26">Improvements to pp-trace</a><a class="headerlink" href="#improvements-to-pp-trace" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="clang-tidy-visual-studio-plugin">
<h3><a class="toc-backref" href="#id27">Clang-tidy Visual Studio plugin</a><a class="headerlink" href="#clang-tidy-visual-studio-plugin" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="index.html">Introduction</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="clang-tidy/index.html">Clang-Tidy</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2007-2023, The Clang Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.2.
    </div>
  </body>
</html>